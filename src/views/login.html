<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
 <link rel="stylesheet" href="/styles/style.css">

  </head>
  <body>

    <h1 class="display-1">Login</h1>
<main>
     <form action=""  name="form-cadastro">
     
<div class="mb-3">
  <label for="">Email</label>
  <input type="email" id="usuario" name="name" autofocus
  class="form-control">
</div>
<div class="mb-3">
  <label for="">Senha</label>
  <input type="password" id="senha" name="senha" 
  class="form-control">

  <label class="text" for=""> Se não tem cadastro <span for="" id="cadastrar">Criar cadastro</span></label>
</div>
<div class="mb-3">
  
</div>
       
    </form>
    <button class="btn-btn-success " id="btnLogar">Logar</button>
  </main>
 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- <script src="./assets/valida.js"></script> -->
    
    <script type="module" >
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
      import { getAuth, signInWithEmailAndPassword,createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";
      // import { getAuth, signInWithEmailAndPassword } from "firebase/auth";


      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyCFfwffLiAqGBL3norNhdBFLR6DPBJCprA",
        authDomain: "bd-form-7f3ec.firebaseapp.com",
        projectId: "bd-form-7f3ec",
        storageBucket: "bd-form-7f3ec.firebasestorage.app",
        messagingSenderId: "95529155541",
        appId: "1:95529155541:web:15f5ff5398e8ee91369b5c"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const auth = getAuth();

      let login = document.getElementById('btnLogar')

      login.addEventListener('click', function(){
let loginEmail = document.getElementById('usuario').value
let loginSenha = document.getElementById('senha').value
signInWithEmailAndPassword(auth, loginEmail, loginSenha)
.then((userCredential)=>{
// signed in
const user = userCredential.user;
alert("Bem vindo " + loginEmail)
Apagar()
window.location.href='usuario.html'
}).catch((error)=>{
  const errorCode = error.code;
  const errorMensage = error.mensage;
  alert('Usuário ou senha incorreto')
})

      })
      let resgister = document.getElementById('cadastrar')

      resgister.addEventListener('click', function(){

window.location.href='cadastro.html'




      })
      // Cadastro de variáveis
function Apagar() {

let loginEmail = document.getElementById('usuario').value ="";
let loginSenha = document.getElementById('senha').value = "";

}


      
    </script>
    
  
    
  </body>
</html>